@startuml

title Verteilungsdiagramm
scale 1.5
scale 200 width


rectangle "3D-Drucker-Pool Verwaltung" as vv {

    rectangle Serverraum as sr{

        node "Router" as es1 <<device>>   {
        [Routing] <<component>>
        [Firewall] <<component>>
        }
        node "Zentraler Druck-/Verwaltungsserver" as zds  <<device>> {
          [Auswahl]
          [Steuern]
          [Auftragswarteschlange]

          node  "Web-Server" as ds  <<device>> {
            node "Web-Modul"{
                [Druckauftragsverwaltung]
                [Druckerverwaltung]
                [Druckauftragsverwaltung]
                [Benutzerverwaltung]
            }
          }
          node  "Datenbankserver" as dbs  <<device>> {
              database Drucker
              database Benutzer
              database Sicherheit
              database Aufträge
        }
         storage Speicher {
            [Videodaten]
            [Druckdaten]
          }

        }
        node "Sicherheits-Server" as shs <<device>> {
          [Empfang + Versand] as em_sicherheit
          [Alarm] <<artifact>>
          [Notstop] <<artifact>>
          [Monitoring] <<component>>
          [Sicherheitsdaten]

          [Firewall] <<component>>
          [Netzwerk-Schnittestelle] as ns_shs
          storage Speicher as stor {
            [Backup]
          }
        }
        node "Computer" <<device>> {
        [Verwalten]
        }
    }

    rectangle "Druckerraum" #lawnGreen  {

        node "Ethernet-Switch" as es2  {
        [RJ45-Port] as ns_es2
        }

        node "Steuerungs-Druckserver" as std  <<device>> {
        [API-Schnittstelle] as ve_steuerung
        [Netzwerk-Schnittestelle] as ns_std
        }
        node "USB Hub" as usbhub  <<device>> {
        [Netzwerk-Schnittestelle] as usbhub_std
        }

        node "3D-Drucker" as 3dd <<device>> {
          [Drucken]
          [Status] as 3dd_status
          }
          together {
            node "Sensoren" as s <<device>> {
              [Überwachung]
              [Erfassung]
            }
            node "Kameras" as c <<device>> {
              [Bilderfassung]
              [Übertragung]
            }
        }
          node "Robotor-Arm" as ra  <<device>> {
          [Druckbettwechsel]
          [Bewegung]
        }

    }

    ' Verlinkung
    dr --> sr
    ra --> usbhub
    usbhub --> es2
    es2 --> es1
    es1 --> zds
    zds --> shs



}


@enduml